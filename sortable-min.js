YAHOO.widget.SortableList=function(B,A){this.elm=$(B);this.drop=null;this.lastTarget=false;this._tagName="li";if(A){if(A.tagname){this._tagName=A.tagname}}if(!this.elm){return false}this.onInit=new YAHOO.util.CustomEvent("oninit",this)};YAHOO.widget.SortableList.prototype.init=function(){this._setupList();this.onInit.fire()};YAHOO.widget.SortableList.prototype._setupList=function(){this.lis=this.elm.getElementsByTagName(this._tagName);$D.generateId(this.lis,"ysortable");for(var C=0;C<this.lis.length;C++){var A=this.lis[C].id;this.lis[C]._yuiGroup=this.elm.id;new YAHOO.util.DDTarget(A);var B=new YAHOO.util.DD(A,this.elm.id);B.onDragDrop=this.onDragDrop;B.onDragOver=this.onDragOver;B.onMouseUp=this.onMouseUp;B.onDragEnter=this.onDragEnter}};YAHOO.widget.SortableList.prototype.onDragEnter=function(C,D){if(!this.currentDrag){var A=$E.getTarget(C);var B=A;if(B){while(B.parentNode){if(typeof B._yuiGroup!="undefined"){this.currentDrag=B;break}B=B.parentNode}}}};YAHOO.widget.SortableList.prototype.onDragDrop=function(E,F){var A=this.currentDrag;var D=$(F);var C=D;if(D){while(D.parentNode){if(typeof D._yuiGroup!="undefined"){C=D;break}D=D.parentNode}}var F=C.id;if(this.lastTarget&&(F===this.lastTarget)&&(A.id!=F)){$D.removeClass(this.lastTarget,"yui-sortover");var B=$(F);if(B.previousSibling!=A){A.parentNode.removeChild(A);B.parentNode.insertBefore(A,B)}else{A.parentNode.removeChild(A);B.parentNode.insertBefore(A,B.nextSibling)}}};YAHOO.widget.SortableList.prototype.onDragOver=function(A,B){if(this.lastTarget){$D.removeClass(this.lastTarget,"yui-sortover")}this.lastTarget=B;$D.addClass(B,"yui-sortover")};YAHOO.widget.SortableList.prototype.onMouseUp=function(B){var A=this.currentDrag;this.currentDrag=false;if(this.lastTarget){$D.removeClass(this.lastTarget,"yui-sortover")}$D.setStyle(A,"position","static");$D.setStyle(A,"top","");$D.setStyle(A,"left","")};